<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Creating a Modul Weapon </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Creating a Modul Weapon ">
    <meta name="generator" content="docfx 2.56.7.0">
    
    <link rel="shortcut icon" href="../../../favicon.ico">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/night-owl.min.css">
    <link rel="stylesheet" href="../../../styles/colors.css">
    <link rel="stylesheet" href="../../../styles/discord.css">
    <link rel="stylesheet" href="../../../styles/main.css">
    <meta property="docfx:navrel" content="../../../toc.html">
    <meta property="docfx:tocrel" content="../../toc.html">
    
    
    
  </head>

  <body>
        <div class="top-navbar">

            <a href="javascript:void(0);" class="burger-icon" onclick="toggleMenu()">
                <svg name="Hamburger" style="vertical-align: middle;" width="24" height="24" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M20 6H4V9H20V6ZM4 10.999H20V13.999H4V10.999ZM4 15.999H20V18.999H4V15.999Z"></path></svg>
            </a>

            
            <a class="brand" href="../../../index.html">
              <img src="../../../logo.svg" alt="" class="logomark">
              <span class="brand-title"></span>
            </a>
        </div>

        <div class="body-content">

            <div id="blackout" class="blackout" onclick="toggleMenu()"></div>

            <nav id="sidebar" role="navigation">

                <div class="sidebar">
                    
                    
                    
                    
                    <div>
                      
                      <a class="brand" href="../../../index.html">
                        <img src="../../../logo.svg" alt="" class="logomark">
                        <span class="brand-title"></span>
                      </a>
                      <div id="navbar">
                    
                      </div>
                    
                    </div>


                    <div class="sidebar-item-separator"></div>

                        
                        <div id="sidetoggle">
                          <div id="sidetoc"></div>
                        </div>

                </div>

                <div class="footer">
                  
                  <span>Generated by <strong>DocFX</strong></span>
                </div>
            </nav>

            <main class="main-panel">

                <div role="main" class="hide-when-search">

                        
                        <div class="subnav navbar navbar-default">
                          <div class="container hide-when-search" id="breadcrumb">
                            <ul class="breadcrumb">
                              <li></li>
                            </ul>
                          </div>
                        </div>

                    <article class="content wrap" id="_content" data-uid="">


<p>This tutorial assumes you know how to implement weapons in unity on a basic level. If you don't, check out Andrew_FTW's tutorial. A link can be found in the <a href="../../making_mods.html">Making Mods</a> doc. This tutorial also assumes you are using one of the default AK/AR/P226 platforms to make your mod. If you aren't, just make more attachment mounts like standard piccaninny rails.</p>
<p>You will need <a href="https://drive.google.com/file/d/18P59DJL0tGRSTXaxXknVl9lFiLJ27Y_v/view">AssetStudioGUI</a>.</p>
<p>In this tutorial, I need to properly mount a dustcover on my modular SVD.</p>
<p><img src="images/UnityEditor/dustcover/preview.png" alt="need a dustcover"></p>
<h2 id="importing-prefabs">Importing prefabs</h2>
<p>The first thing we will need is the basis of where a dustcover sits, modular AK. Once you have obtained the mod and its <code>.manifest</code> file, place them in your Unity project's <code>Assets/</code> folder.</p>
<p><img src="images/explorer/ModulAK.png" alt="placed in assets"></p>
<p>Then, I made another empty game object with the prefab loader script component. If you don't have one, you can right-click in the <code>Hierarchy</code> on the left and click the <code>Create Empty</code> button. Once selected, in the <code>Inspector</code> tab on the right click on the <code>Add Component</code> button and search for the prefab loader script.</p>
<p>Once you have a prefab loader object ready, fill it out with the fields you need. For this example, I need to load the <code>modular-modulak</code> asset bundle and grab a dustcover that we are referencing.</p>
<ol>
<li>Open the <code>.manifest</code> file in any notepad program.</li>
<li>Find the <code>.prefab</code> path you want to copy. Note: <code>.asset</code>s cannot be used.</li>
<li>Fill in your prefab loader object with the path to your asset bundle you are extracting from, and the path you copied from its <code>.manifest</code> file.</li>
</ol>
<p>For this example, my prefab loader looks like this:</p>
<p><img src="images/UnityEditor/scripts/prefab_loader.png" alt="prefab loader"></p>
<h2 id="copying-reference-prefabs">Copying reference prefabs</h2>
<p>Once you have your prefab loader setup, you'll next need to load the object. Press the pause, then play button in the top middle of your screen.</p>
<p>This will load the object you want to copy into unity in &quot;Play mode&quot;. Keep in mind, any changes you preform in &quot;Play mode&quot; cannot be saved, so read carefully.</p>
<p>Next, drag and drop the clone of the item into your assets tray, just like you would do any other item or weapon. We will be using this attachment as reference when placing our attachment mount. You can press play now.</p>
<p>Now its time to open AssetStudioGUI and rip the model of the prefab we are using. You can also rip the textures and make a material so it's easier to visualize, its up to you.</p>
<p>To rip the mesh or materials:</p>
<ol>
<li>Drag and drop the asset bundle you are ripping from into the main window of AssetStudioGUI.</li>
<li>Click on the <code>Asset List</code> tab.</li>
<li>Sort by <code>Type</code>.</li>
<li>Scroll and click on different <code>mesh</code> types until you find the one that matches what you are importing. Alternatively, you can search for it using the search bar, but it is not guaranteed that the assets are named correctly.</li>
<li>Right click on the selected assets and hit <code>Export selected assets</code>.</li>
<li>Browse to your unity project and hit save.</li>
</ol>
<p>Drop in your clone into the hierarchy and navigate to where the creator placed their mesh and material in and fill them in. Below is an image of this process completed.</p>
<p><img src="../images/UnityEditor/prefab.png" alt="prefab imported"></p>
<h2 id="placing-the-attachment-mount">Placing the attachment mount</h2>
<p>Take note of what attachment mount your attachment uses. For this case, a dustcover would use the <code>Russian</code> type.</p>
<p><img src="images/UnityEditor/hierarchy/mount_type.png" alt="mount type"></p>
<p>If yours is blank, then that means the creator used a custom enum for their mount type. This is used to make sure no other attachment can be placed in that spot. You will have to contact the creator of the mod for the enum number that they used for that attachment mount and fill in your <code>FVRFireArmAttachmentMountType.cs</code> script with another entry with that number that they provide.</p>
<p>Now we have some options. We can:</p>
<ul>
<li>Import the receiver of the firearm we are copying.</li>
<li>Make a new rail and change the attachment mount to that mount type.</li>
</ul>
<p>Either way, you still need to import another prefab. Lets go with option 1. In my case, that would be any of the modular AK receivers.</p>
<p>Same as last time, pause play with the new <code>.manifest</code> path of the receiver in the prefab loader. This time however, all we need to do is save the attachment mount that mounts our attachment. In my case, that would be the one shown in the picture below:</p>
<p><img src="images/UnityEditor/dustcover/mount.png" alt="dustcover mount"></p>
<p>Drag and drop that attachment mount (not the weapon itself) into your assets tray. Next, drag it onto your firearm that needs the mount, and then place the attachment that you want to make compatible as a child to it. Below is how mine would look:</p>
<p><img src="images/UnityEditor/dustcover/child.png" alt="dust child"></p>
<p>Next, click on the attachment (in my case, <code>Bastion (Clone)</code>), and set the position of the transform to 0,0,0. Now move the mount point (in my case, <code>_RailMount_Dustcover</code>) so that it fits on your weapon like it looks like it should.</p>
<p>Delete the object reference, and apply your main prefab to save it. Make sure to add the attachment mount to your main script's <code>Attachment Mounts</code> list of attachment mounts, and thats it!</p>
<p>Here is an example of a completed modular weapon with all of its mounts.</p>
<p><img src="images/UnityEditor/hierarchy/attachment_list.png" alt="att list"></p>
<h2 id="finishing-notes">Finishing notes</h2>
<p>Looking to get more out of your modular mod? Check the remaining articles of the Modul collection.</p>
<p>If you have any questions about this guide, you can ask me on discord @gamernayr#8165 through the official H3VR discord.</p>
</article>
              
                </div>
            </main>
        </div>

        
<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js"></script>
<script type="text/javascript" src="../../../styles/jquery.twbsPagination.js"></script>
<script type="text/javascript" src="../../../styles/url.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js"></script>
<script type="text/javascript" src="../../../styles/docfx.js"></script>
<script type="text/javascript" src="../../../styles/main.js"></script>

    </body>

</html>
